import{r as u,Q as i,T as g,U as C}from"./index-3aa59f0e.js";function x(){var r=u.useContext(i);return r}function k(r){r===void 0&&(r=i);var e=r===i?x:function(){return u.useContext(r)};return function(){var n=e(),c=n.store;return c}}var y=k();function E(r){r===void 0&&(r=i);var e=r===i?y:k(r);return function(){var n=e();return n.dispatch}}var T=E(),D=function(e,t){return e===t};function H(r,e,t,n){var c=u.useReducer(function(o){return o+1},0),S=c[1],f=u.useMemo(function(){return g(t,n)},[t,n]),s=u.useRef(),v=u.useRef(),p=u.useRef(),a=u.useRef(),h=t.getState(),d;try{if(r!==v.current||h!==p.current||s.current){var R=r(h);a.current===void 0||!e(R,a.current)?d=R:d=a.current}else d=a.current}catch(o){throw s.current&&(o.message+=`
The error may be correlated with this previous error:
`+s.current.stack+`

`),o}return C(function(){v.current=r,p.current=h,a.current=d,s.current=void 0}),C(function(){function o(){try{var l=t.getState();if(l===p.current)return;var b=v.current(l);if(e(b,a.current))return;a.current=b,p.current=l}catch(m){s.current=m}S()}return f.onStateChange=o,f.trySubscribe(),o(),function(){return f.tryUnsubscribe()}},[t,f]),d}function U(r){r===void 0&&(r=i);var e=r===i?x:function(){return u.useContext(r)};return function(n,c){c===void 0&&(c=D);var S=e(),f=S.store,s=S.subscription,v=H(n,c,f,s);return u.useDebugValue(v),v}}var V=U();export{V as a,T as u};
