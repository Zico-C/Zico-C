import{r as o,u as g,j as r}from"./index-b0b3e6fc.js";const m=()=>{const[l,d]=o.useState(0),s=g(t=>t.global),e=o.useMemo(()=>new WebSocket("ws://localhost:1880/ws/request"),[]);return o.useEffect(()=>{const t=()=>{console.log("WebSocket connected"),e.send(JSON.stringify(s))},n=c=>{d(c.data),console.log("Received message:",c.data);const i={websocketData:l,globalData:s};e.send(JSON.stringify(i))},a=()=>{console.log("WebSocket disconnected")};return e.addEventListener("open",t),e.addEventListener("message",n),e.addEventListener("close",a),()=>{e.removeEventListener("open",t),e.removeEventListener("message",n),e.removeEventListener("close",a)}},[e,s]),r.jsx("div",{style:{height:"100%"},children:r.jsx("iframe",{src:"http://127.0.0.1:1880",style:{width:"100%",height:"100%"}})})};export{m as default};
