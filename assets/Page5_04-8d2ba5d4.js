import{r as u,j as t,a as p}from"./index-6665707e.js";import{u as h}from"./useQuery-b8aa82ad.js";const m="_APImain_1u4t2_1",x="_content_1u4t2_30",j="_card_1u4t2_33",o={APImain:m,content:x,card:j},P=e=>new Date(e).toLocaleString(),f=({planet:e})=>t.jsxs("div",{className:o.card,children:[t.jsx("h3",{children:e.name}),t.jsxs("p",{children:["Population - ",e.population]}),t.jsxs("p",{children:["Terrain - ",e.terrain]}),t.jsxs("p",{children:["climate - ",e.climate]})]}),A=()=>{var r;const[e,n]=u.useState(1),i=async({queryKey:s})=>{console.log("queryKey",s);try{return(await p.get(`https://swapi.dev/api/planets/?page=${s[1]}`)).data}catch(c){console.log("API Error",c)}},{data:a,dataUpdatedAt:l,status:d}=h(["planets",e],i,{refetchOnWindowFocus:!1,keepPreviousData:!0,cacheTime:1/0});return t.jsxs("div",{className:o.APImain,children:[t.jsxs("h1",{children:["API page : ",e]}),t.jsxs("h3",{children:["Data updated at ï¼š ",P(l)]}),t.jsx("button",{onClick:()=>{e>1&&n(s=>s-1)},children:"Prev"}),t.jsx("button",{onClick:()=>{e<6&&n(s=>s+1)},children:"Next"}),d==="success"&&t.jsx("div",{children:(r=a==null?void 0:a.results)==null?void 0:r.map(s=>t.jsx(f,{planet:s},s.name))})]})};export{A as default};
