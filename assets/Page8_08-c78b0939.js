import{r as n,be as x,a as b,j as m}from"./index-f389a290.js";import{E as A}from"./index-11d3ea9b.js";import"./index-708e5341.js";const C=()=>{var l,c,u;const[o,p]=n.useState(""),[i,g]=n.useState([]),d=x();n.useEffect(()=>{const a="https://opendata.cwa.gov.tw/api/v1/rest/datastore/O-A0003-001?Authorization=CWA-EB3FD491-9755-4E3C-A31D-70C0FCCFD682&format=JSON";b.get(a).then(t=>{const s=t.data.records.Station;g(s)}).catch(t=>{console.log(t)})},[]),console.log("2023-07-17-001-834e".slice(0,14));const f=(u=(c=(l=i[0])==null?void 0:l.ObsTime)==null?void 0:c.DateTime)==null?void 0:u.toString().replace("T"," ").substring(0,19),e=a=>{var s;const t=i.filter(r=>r.GeoInfo.TownName.toLowerCase().includes(a.toLowerCase()));if(t.length>0){const r=(s=t[0].WeatherElement)==null?void 0:s.AirTemperature;return r===-99?"N/A":r}return"N/A"},h=a=>{p(a.data.name)};n.useEffect(()=>{o!==""&&(console.log("new saveName",o),d(`/page8/page8_01?selectLocation=${o}`))},[o]),console.log("...render");const v={title:{text:"地區即時溫度",left:"center",subtext:`更新時間：${f}`},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["竹北市","楊梅區","宜蘭市","阿里山鄉","大溪區","花蓮市"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"溫度",type:"bar",barWidth:"60%",data:[{value:e("竹北市"),name:"竹北市"},{value:e("楊梅區"),name:"楊梅區"},{value:e("宜蘭市"),name:"宜蘭市"},{value:e("阿里山鄉"),name:"阿里山鄉"},{value:e("大溪區"),name:"大溪區"},{value:e("花蓮市"),name:"花蓮市"}]}],label:{show:!0,position:"inside",fontSize:"2rem"}};return m.jsx("div",{className:"Home",children:m.jsx(A,{option:v,style:{height:"400px"},onEvents:{click:h},notMerge:!0,lazyUpdate:!0})})};export{C as default};
