import{j as r,r as i}from"./index-9cb23f7b.js";import{s as c}from"./page8_01.module-3a366715.js";const a={ADD:"ADD",TOGGLE:"TOGGLE",DELETE:"DELETE"},p=({todo:e,dispatch:t})=>r.jsxs("div",{className:c.main,children:[r.jsx("span",{style:{textDecoration:e.complete?"line-through":void 0},children:e.todoContent}),r.jsx("button",{className:c.toggle,onClick:()=>t({type:a.TOGGLE,payload:{id:e.id}}),children:e.complete?"Cancel":"Complete"}),r.jsx("button",{className:c.delete,onClick:()=>t({type:a.DELETE,payload:{id:e.id}}),children:"Delete"})]}),u=(e,t)=>{console.log(e,t);const{todoContent:l,id:o}=t.payload;switch(t.type){case a.ADD:return[...e,d(l)];case a.TOGGLE:return e.map(n=>n.id===o?{...n,complete:!n.complete}:n);case a.DELETE:return e.filter(n=>n.id!==o);default:return e}},d=e=>({id:Math.floor(Math.random()*1e5),todoContent:e,complete:!1});function h(){const[e,t]=i.useReducer(u,[]),[l,o]=i.useState(""),n=s=>{s.preventDefault(),t({type:a.ADD,payload:{todoContent:l}})};return r.jsxs("div",{className:c.main,children:[r.jsx("form",{onSubmit:n,children:r.jsx("input",{type:"text",value:l,onChange:s=>o(s.target.value),placeholder:"Type in Something ..."})}),e.map(s=>r.jsx(p,{todo:s,dispatch:t},s.id))]})}export{h as default};
