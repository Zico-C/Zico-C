import{r as p,j as e,a as u}from"./index-fcae4f03.js";import{u as h}from"./useQuery-a8074719.js";import{s as i}from"./page5.module-e1e49839.js";const x=s=>new Date(s).toLocaleString(),m=({planet:s})=>e.jsxs("div",{className:i.card,children:[e.jsx("h3",{children:s.name}),e.jsxs("p",{children:["Population - ",s.population]}),e.jsxs("p",{children:["Terrain - ",s.terrain]}),e.jsxs("p",{children:["climate - ",s.climate]})]}),g=()=>{var n;const[s,a]=p.useState(1),c=async({queryKey:t})=>{console.log("queryKey",t);try{return(await u.get(`https://swapi.dev/api/planets/?page=${t[1]}`)).data}catch(o){console.log("API Error",o)}},{data:r,dataUpdatedAt:l,status:d}=h(["planets",s],c,{refetchOnWindowFocus:!1,keepPreviousData:!0,cacheTime:1/0});return e.jsxs("div",{className:i.APImain,children:[e.jsxs("h1",{children:["API page : ",s]}),e.jsxs("h3",{children:["Data updated at ï¼š ",x(l)]}),e.jsx("button",{onClick:()=>{s>1&&a(t=>t-1)},children:"Prev"}),e.jsx("button",{onClick:()=>{s<6&&a(t=>t+1)},children:"Next"}),d==="success"&&e.jsx("div",{children:(n=r==null?void 0:r.results)==null?void 0:n.map(t=>e.jsx(m,{planet:t},t.name))})]})};export{g as default};
